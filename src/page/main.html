<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nike. Just Do It.</title>
    <link rel="shortcut icon" href="/favicon/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/favicon/favicon.svg" type="image/svg" />
    <meta name="description" content="나이키의 모든 것, 나이키 공식 온라인스토어(상업용X)" />
    <meta name="author" content="UI Project Team3" />
    <link rel="preload" as="font" href="/font/woff2/PretendardVariable.woff2" crossorigin="anonymous" />
    <link rel="preload" as="style" href="/font/pretendardvariable.css" />
    <link rel="stylesheet" href="/font/pretendardvariable.css" />
    <link rel="stylesheet" href="../common/index.css" />
    <link rel="stylesheet" href="../components/style/main-page.css" />
    <link rel="stylesheet" href="./style/main.css" />
    <script type="module" src="../components/common/js/layout.js"></script>
  </head>
  <body>
    <header id="header"></header>
    <nav id="navbar"></nav>
    <main>
      <!-- ****** WINNER PROMO ****** -->
      <section class="winner section">
        <article class="promo-card">
          <figure class="media">
            <img src="../../src/assets/images/main-page/img-promo-winner.svg" alt="승자의 눈빛을 가진 선수 클로즈업" />
          </figure>
          <header class="content">
            <h1 class="title">아무나 오를 수 없는 승자의 자리.</h1>
            <p class="subtitle">전부를 내건 이들만이 차지하는 것.</p>
            <a href="#" class="btn fill">자세히 보기</a>
          </header>
        </article>
      </section>

      <!-- ****** WIN ON AIR – 가로 스크롤 피처 ****** -->
      <section class="section" aria-labelledby="win-on-air-title">
        <h2 id="win-on-air-title" class="section-title">Win&nbsp;on&nbsp;Air</h2>
        <div class="scroll-wrap">
          <!-- 의류 카테고리 카드 -->
          <article class="category-card">
            <figure class="media">
              <a href="#"><img src="../../src/assets/images/main-page/img-winOnAir-clothes.svg" alt="의류" /></a>
            </figure>
            <header class="category-card__info">
              <a href="#"><h2 class="category-card__name">의류</h2></a>
              <a href="#" class="btn fill white">구매하기</a>
            </header>
          </article>
          <!-- 신발 카테고리 카드 -->
          <article class="category-card">
            <figure class="media">
              <a href="#"><img src="../../src/assets/images/main-page/img-winOnAir-shoes.svg" alt="신발" /></a>
            </figure>
            <header class="category-card__info">
              <a href="#"><h2 class="category-card__name">신발</h2></a>
              <a href="#" class="btn fill white">구매하기</a>
            </header>
          </article>
          <!-- 액세서리 카테고리 카드 -->
          <article class="category-card">
            <figure class="media">
              <a href="#"><img src="../../src/assets/images/main-page/img-winOnAir-accessories.svg" alt="액세서리" /></a>
            </figure>
            <header class="category-card__info">
              <a href="#"><h2 class="category-card__name">액세서리</h2></a>
              <a href="#" class="btn fill white">구매하기</a>
            </header>
          </article>
        </div>
      </section>

      <!-- ****** PROMO - NIKEJEM ****** -->
      <section class="jem section">
        <article class="promo-card">
          <figure class="media">
            <img src="../../src/assets/images/main-page/img-promo-nikejem.svg" alt="스케이드보더 2명이 스케이트를 타는 장면" />
          </figure>
          <header class="content">
            <p class="add-explanation">신제품</p>
            <h1 class="title">나이키 잼</h1>
            <p class="subtitle">브레이킹을 위해 탄생한 나이키 잼 컬렉션을 만나 보세요.</p>
            <a href="#" class="btn fill">구매하기</a>
          </header>
        </article>
      </section>

      <!-- ****** PROMO – 나이키 × 자크뮈스 ****** -->
      <section class="collabo section">
        <article class="promo-card">
          <figure class="media">
            <img src="../../src/assets/images/main-page/img-promo-collaboJac.svg" alt="Serena Williams wearing the Nike × Jacquemus collection" />
          </figure>
          <header class="content">
            <p class="add-explanation">새로운 컬렉션</p>
            <h1 class="title">나이키 × 자크뮈스</h1>
            <p class="subtitle">세련된 실루엣과 감각적인 컬러가 조화를 이루는 나이키 × 자크뮈스 컬렉션을 만나보세요.</p>
            <a href="#" class="btn fill">컬렉션 구매하기</a>
          </header>
        </article>
      </section>

      <!-- ****** TRENDING NOW – 가로 스크롤 피처 ****** -->
      <section class="trending-now section" aria-labelledby="trending-now-title">
        <h2 id="trending-now-title" class="section-title">Trending&nbsp;Now</h2>
        <div class="scroll-wrap">
          <!-- 의류 카테고리 카드 -->
          <article class="category-card">
            <figure class="media">
              <a href="#"><img src="../../src/assets/images/main-page/img-trandingNow-mad.png" alt="축구화" /></a>
            </figure>
            <header class="category-card__info">
              <a href="#"><h2 class="category-card__name">미드 앰비션 팩</h2></a>
              <a href="#" class="btn fill">구매하기</a>
            </header>
          </article>
          <!-- 신발 카테고리 카드 -->
          <article class="category-card">
            <figure class="media">
              <a href="#"><img src="../../src/assets/images/main-page/img-trandingNow-suit.png" alt="수트" /></a>
            </figure>
            <header class="category-card__info">
              <a href="#"><h2 class="category-card__name">가장 나다움을 담은 수트</h2></a>
              <a href="#" class="btn fill">구매하기</a>
            </header>
          </article>
          <!-- 액세서리 카테고리 카드 -->
          <article class="category-card">
            <figure class="media">
              <a href="#"><img src="../../src/assets/images/main-page/img-trandingNow-sandals.jpg" alt="샌들 & 슬라이드" /></a>
            </figure>
            <header class="category-card__info">
              <a href="#"><h2 class="category-card__name">샌들 & 슬라이드</h2></a>
              <a href="#" class="btn fill">구매하기</a>
            </header>
          </article>
        </div>
      </section>

      <!-- ****** FEATURE – 나이키 메트콘 9 ****** -->
      <section class="feature section">
        <article class="feature-card">
          <figure class="media">
            <a href="#">
              <picture>
                <!-- 와이드(데스크톱 ≥ 768px) 전용 -->
                <source srcset="../../src/assets/images/main-page/img-featured-workout-wide.png" media="(min-width: 768px)" />

                <!-- 모바일(기본) -->
                <img src="../../src/assets/images/main-page/img-featured-workout-mobile.png" alt="워크아웃 에센셜" />
              </picture>
            </a>
          </figure>
          <header class="feature-card__info">
            <a href="#"><h2 class="feature-card__name">워크아웃 에센셜</h2></a>
            <a href="#" class="btn fill">구매하기</a>
          </header>
        </article>
        <article class="feature-card">
          <figure class="media">
            <a href="#">
              <picture>
                <!-- 와이드(데스크톱 ≥ 768px) 전용 -->
                <source srcset="../../src/assets/images/main-page/img-featured-metcon9-wide.png" media="(min-width: 768px)" />

                <!-- 모바일(기본) -->
                <img src="../../src/assets/images/main-page/img-featured-metcon9-mobile.png" alt="나이키 메트콘 9" />
              </picture>
            </a>
          </figure>
          <header class="feature-card__info">
            <a href="#"><h2 class="feature-card__name">나이키 메트콘 9</h2></a>
            <a href="#" class="btn fill">구매하기</a>
          </header>
        </article>
      </section>

      <!-- ****** ALWAYS ICONIC ****** -->
      <section class="carousel section" aria-labelledby="carousel-shoes-images">
        <div class="carousel" data-carousel>
          <button class="carousel-btn prev" aria-label="이전">
            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z" /></svg>
          </button>
          <div class="carousel-track" data-track>
            <!-- 원본 슬라이드 -->
            <a href="#" class="carousel-slide"><img src="../../src/assets/images/main-page/img-alwaysIconic-air.png" alt="에어맥스" /></a>
            <a href="#" class="carousel-slide"><img src="../../src/assets/images/main-page/img-alwaysIconic-cor.png" alt="코르테즈" /></a>
            <a href="#" class="carousel-slide"><img src="../../src/assets/images/main-page/img-alwaysIconic-dunk.png" alt="덩크" /></a>
            <a href="#" class="carousel-slide"><img src="../../src/assets/images/main-page/img-alwaysIconic-pega.png" alt="페가수스" /></a>
            <a href="#" class="carousel-slide"><img src="../../src/assets/images/main-page/img-alwaysIconic-v2k.png" alt="V2K 런" /></a>
          </div>
          <button class="carousel-btn next" aria-label="다음">
            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z" /></svg>
          </button>
        </div>
      </section>

      <!-- ****** SHOP BY SPORT – 리스트형 shop‑card ****** -->
      <section class="shop section" aria-labelledby="shop-by-sport-title">
        <div class="section-header">
          <h2 id="shop-by-sport-title" class="section-title">Shop by Sport</h2>
        </div>
        <div class="shop-cards">
          <article class="shop-card">
            <a href="#" class="shop-card__link">
              <picture class="shop-card__media">
                <!-- 데스크톱 / 태블릿용 와이드 이미지 -->
                <source srcset="../../src/assets/images/main-page/img-shopBySport-traning-wide.png" media="(min-width: 768px)" />
                <!-- 기본(모바일)용 정사각 이미지 -->
                <img src="../../src/assets/images/main-page/img-shopBySport-traning-mobile.png" alt="나이키 트레이닝" class="shop-card__image" />
              </picture>

              <header class="shop-card__body">
                <p class="shop-card__category">나이키 트레이닝</p>
                <h2 class="shop-card__title">한계에 도전하는 여정과 함께할 아이템</h2>
                <button type="button" class="btn fill">구매하기</button>
              </header>
            </a>
          </article>

          <article class="shop-card">
            <a href="#" class="shop-card__link">
              <picture class="shop-card__media">
                <!-- 데스크톱 / 태블릿용 와이드 이미지 -->
                <source srcset="../../src/assets/images/main-page/img-shopBySport-running-wide.png" media="(min-width: 768px)" />
                <!-- 기본(모바일)용 정사각 이미지 -->
                <img src="../../src/assets/images/main-page/img-shopBySport-running-wide.png" alt="나이키 러닝" class="shop-card__image" />
              </picture>

              <header class="shop-card__body">
                <p class="shop-card__category">나이키 트레일 러닝</p>
                <h2 class="shop-card__title">새로운 모험으로 이끌어 주는 아이템</h2>
                <button type="button" class="btn fill">구매하기</button>
              </header>
            </a>
          </article>

          <article class="shop-card">
            <a href="#" class="shop-card__link">
              <picture class="shop-card__media">
                <!-- 데스크톱 / 태블릿용 와이드 이미지 -->
                <source srcset="../../src/assets/images/main-page/img-shopBySport-soccer-wide.png" media="(min-width: 768px)" />
                <!-- 기본(모바일)용 정사각 이미지 -->
                <img src="../../src/assets/images/main-page/img-shopBySport-soccer-mobile.png" alt="나이키 축구" class="shop-card__image" />
              </picture>

              <header class="shop-card__body">
                <p class="shop-card__category">나이키 축구</p>
                <h2 class="shop-card__title">경기 중 독보적인 존재감을 드러낼 아이템</h2>
                <button type="button" class="btn fill">구매하기</button>
              </header>
            </a>
          </article>
        </div>
      </section>

      <!-- ****** MEMBERSHIP PROMO ****** -->
      <section class="membership section">
        <h2 id="membership-title" class="section-title">나이키&nbsp;멤버십</h2>
        <div class="scroll-wrap">
          <article class="membership-card">
            <figure class="media">
              <img src="../../src/assets/images/main-page/img-membership-wellness.png" alt="사람들이 요가를 하고 있는 장면" />
            </figure>
            <header class="content">
              <h1 class="title">스포츠 & 웰니스 앱</h1>
              <p class="subtitle">언제 어디서든 운동하기</p>
              <a href="#" class="btn fill">함께 운동하기</a>
            </header>
          </article>
          <article class="membership-card">
            <figure class="media">
              <img src="../../src/assets/images/main-page/img-membership-memberOnly.png" alt="여성이 계단에 앉아 카메라를 응시하고 있는 장면" />
            </figure>
            <header class="content">
              <h1 class="title">멤버 전용 제품</h1>
              <p class="subtitle">멤버만을 위한 제품 혜택</p>
              <a href="#" class="btn fill">구매하기</a>
            </header>
          </article>
          <article class="membership-card">
            <figure class="media">
              <img src="../../src/assets/images/main-page/img-membership-reward.png" alt="여성이 웃고 있는 장면" />
            </figure>
            <header class="content">
              <h1 class="title">멤버 리워드</h1>
              <p class="subtitle">운동과 쇼핑을 위한 특별한 혜택</p>
              <a href="#" class="btn fill">자세히 보기</a>
            </header>
          </article>
        </div>
      </section>
    </main>
    <footer id="footer"></footer>
    <script>
      /* ──────── 기본 셋업 ──────── */
      const track = document.querySelector('.carousel-track');
      const prevBtn = document.querySelector('.carousel-btn.prev');
      const nextBtn = document.querySelector('.carousel-btn.next');

      /* 카드 1칸 폭(패딩+gap 포함) 계산 */
      let CARD_W = 0;
      function calcCardW() {
        const gap = parseFloat(getComputedStyle(track).gap) || 0;
        const first = track.querySelector('a');
        CARD_W = first.offsetWidth + gap;
      }
      window.addEventListener('load', calcCardW);
      window.addEventListener('resize', calcCardW);

      /* ───────── 무한 루프용 앞·뒤 클론 삽입 ───────── */
      const realSlides = Array.from(track.children); // 실제 카드들
      const firstClone = realSlides[0].cloneNode(true);
      const lastClone = realSlides.at(-1).cloneNode(true);

      track.appendChild(firstClone); // … [실 N] [clone 1]
      track.insertBefore(lastClone, realSlides[0]); // [clone N] [실 1] …

      let i = 1; // 0 = 앞쪽 클론, 1 = 첫 실카드
      function jumpTo(n) {
        track.scrollLeft = n * CARD_W;
      } // 순간 이동
      function goTo(n) {
        track.scrollTo({ left: n * CARD_W, behavior: 'smooth' });
      } // 애니메이션

      window.addEventListener('load', () => jumpTo(i)); // 첫 실카드로 정렬

      /* ───────── 화살표 이벤트 ───────── */
      prevBtn.addEventListener('click', () => {
        i--;
        goTo(i);
      });
      nextBtn.addEventListener('click', () => {
        i++;
        goTo(i);
      });

      /* ───────── 스크롤 종료 후 위치 보정 ───────── */
      let t;
      track.addEventListener('scroll', () => {
        clearTimeout(t);
        t = setTimeout(() => {
          const max = realSlides.length; // 실카드 개수
          i = Math.round(track.scrollLeft / CARD_W);

          if (i === 0) {
            // 앞쪽 클론 → 맨 뒤 실카드로
            i = max;
            jumpTo(i);
          } else if (i === max + 1) {
            // 뒤쪽 클론 → 맨 앞 실카드로
            i = 1;
            jumpTo(i);
          }
        }, 80); // 디바운스
      });
    </script>
  </body>
</html>
